# Q:什么是观察者模式?

## A:**观察者模式**是[软件设计模式](https://zh.m.wikipedia.org/wiki/軟件設計模式)的一种。在此种模式中，一个目标对象管理所有相依于它的观察者对象，并且在它本身的状态改变时主动发出通知。这通常透过呼叫各观察者所提供的方法来实现。此种模式通常被用在即时事件处理系统。

- 拥有一些值得关注的状态的对象通常被称为  **目标。**
- 由于它要将自身的状态改变通知给其他对象， 我们也将其称为**发布者** （publisher）。
- 所有希望关注发布者状态变化的其他对象被称为**订阅者** （subscribers）。

# Q:观察者模式的作用是什么？

## A：可在对象事件发生时通知多个 “观察” 该对象的其他对象。

# Q:该模式由什么机制组成?

## A:该机制包括 ：

1） 一个用于存储订阅者对象引用的**列表成员变量**；

2） 几个用于添加或删除该列表中订阅者的**公有方法**。

无论何时发生了重要的发布者事件， 它都要**遍历订阅者并调用其对象的特定通知方法**。

# Q：Observe模式结构是什么？

1.**发布者** （Publisher） 会向其他对象发送值得关注的事件。 事件会在发布者**自身状态改变或执行特定行为后发生**。 发布者中包含一个允许新订阅者加入和当前订阅者**离开列表的订阅构架**。

2.当新事件发生时， 发送者会**遍历订阅列表并调用每个订阅者对象的通知方法**。 该方法是在订阅者接口中声明的。

3.**订阅者** （Subscriber） 接口声明了通知接口。 在绝大多数情况下， 该接口仅包含一个 `update`更新方法。 该方法可以拥有多个参数， 使发布者能在更新时传递事件的详细信息。

4.**具体订阅者** （Concrete Subscribers） 可以**执行一些操作来回应发布者的通知**。 所有具体订阅者类都实现了同样的接口， 因此发布者不需要与具体类相耦合。

5.订阅者通常**需要一些上下文信息来正确地处理更新**。 因此， 发布者通常会将一些上下文数据作为通知方法的参数进行传递。 发布者也可将自身作为参数进行传递， 使订阅者直接获取所需的数据。

6.**客户端** （Client） 会**分别创建发布者和订阅者对象**， 然后为订阅者注册发布者更新。